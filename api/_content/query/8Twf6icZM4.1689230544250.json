{"_path":"/invector/melee","_dir":"invector","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Melee Template","description":"","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"melee-template"},"children":[{"type":"text","value":"Melee Template"}]},{"type":"element","tag":"h2","props":{"id":"目次"},"children":[{"type":"text","value":"目次"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#%E3%83%AD%E3%83%BC%E3%83%AA%E3%83%B3%E3%82%B0"},"children":[{"type":"text","value":"ローリング"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#ragdoll"},"children":[{"type":"text","value":"Ragdoll"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#death-by-animationwithragdoll%E3%81%AE%E3%82%BF%E3%82%A4%E3%83%9F%E3%83%B3%E3%82%B0%E8%AA%BF%E6%95%B4"},"children":[{"type":"text","value":"Death By AnimationWithRagdollのタイミング調整"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#%E3%83%86%E3%82%A4%E3%82%AF%E3%83%80%E3%82%A6%E3%83%B3"},"children":[{"type":"text","value":"テイクダウン"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#%E3%83%9C%E3%82%BF%E3%83%B3%E5%90%8C%E6%99%82%E6%8A%BC%E3%81%97"},"children":[{"type":"text","value":"ボタン同時押し"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#%E8%BF%BD%E5%8A%A0%E3%83%80%E3%83%A1%E3%83%BC%E3%82%B8%E8%A8%AD%E5%AE%9A"},"children":[{"type":"text","value":"追加ダメージ設定"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#%E7%84%A1%E6%95%B5%E5%8C%96"},"children":[{"type":"text","value":"無敵化"}]}]}]},{"type":"element","tag":"h2","props":{"id":"ローリング"},"children":[{"type":"text","value":"ローリング"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"RollTransition: 0"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"RollSpeed: 1.5"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"RollRotationSpeed: 55"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"ローリングキャンセル"},{"type":"element","tag":"code","props":{"code":"// RollInput()\r\nif (rollInput.GetButtonDown() && cc.IsAnimatorTag(\"Attack\"))\r\n{\r\n  if (rollInput.GetButtonDown() && RollConditions())\r\n  {\r\n    cc.Roll();\r\n  }\r\n}\n","filename":"vThirdPersonInput.cs","language":"cs","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-f0bf09"},"children":[{"type":"text","value":"// RollInput()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-0fb158"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":" (rollInput."}]},{"type":"element","tag":"span","props":{"class":"ct-0758eb"},"children":[{"type":"text","value":"GetButtonDown"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"() "}]},{"type":"element","tag":"span","props":{"class":"ct-0fb158"},"children":[{"type":"text","value":"&&"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":" cc."}]},{"type":"element","tag":"span","props":{"class":"ct-0758eb"},"children":[{"type":"text","value":"IsAnimatorTag"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-2beb73"},"children":[{"type":"text","value":"\"Attack\""}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"))\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-0fb158"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":" (rollInput."}]},{"type":"element","tag":"span","props":{"class":"ct-0758eb"},"children":[{"type":"text","value":"GetButtonDown"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"() "}]},{"type":"element","tag":"span","props":{"class":"ct-0fb158"},"children":[{"type":"text","value":"&&"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0758eb"},"children":[{"type":"text","value":"RollConditions"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"())\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"  {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"    cc."}]},{"type":"element","tag":"span","props":{"class":"ct-0758eb"},"children":[{"type":"text","value":"Roll"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"();\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"}"}]}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"ragdoll"},"children":[{"type":"text","value":"Ragdoll"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Invector > Basic Locomotion > vRagdoll"}]}]},{"type":"element","tag":"h2","props":{"id":"death-by-animationwithragdollのタイミング調整"},"children":[{"type":"text","value":"Death By AnimationWithRagdollのタイミング調整"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"vAIMotor.cs"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"info.normalizedTime >= 0.8f"}]},{"type":"text","value":"の値を大きくする"},{"type":"element","tag":"code","props":{"code":"protected virtual void AnimatorDeath()\r\n  {\r\n      // death by animation & ragdoll after a time\r\n      else if (deathBy == DeathBy.AnimationWithRagdoll)\r\n      {\r\n          int deadLayer = 0;\r\n          var info = animatorStateInfos.GetStateInfoUsingTag(\"Dead\");\r\n          if (info != null)\r\n          {\r\n              if (!animator.IsInTransition(deadLayer) && info.normalizedTime >= 0.95f && GroundDistanceAnim <= 0.1f)\r\n              {                      \r\n                  onActiveRagdoll.Invoke(null);\r\n                  RemoveComponents();\r\n              }\r\n          }\r\n      }\r\n  }\n","filename":"vAIMotor.cs","language":"cs","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-0fb158"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0fb158"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0fb158"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0758eb"},"children":[{"type":"text","value":"AnimatorDeath"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"  {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-f0bf09"},"children":[{"type":"text","value":"// death by animation & ragdoll after a time\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-0fb158"},"children":[{"type":"text","value":"else"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0fb158"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":" (deathBy "}]},{"type":"element","tag":"span","props":{"class":"ct-0fb158"},"children":[{"type":"text","value":"=="}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":" DeathBy.AnimationWithRagdoll)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"      {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"          "}]},{"type":"element","tag":"span","props":{"class":"ct-0fb158"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a7abc9"},"children":[{"type":"text","value":"deadLayer"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0fb158"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ed75e0"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"          "}]},{"type":"element","tag":"span","props":{"class":"ct-0fb158"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a7abc9"},"children":[{"type":"text","value":"info"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0fb158"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":" animatorStateInfos."}]},{"type":"element","tag":"span","props":{"class":"ct-0758eb"},"children":[{"type":"text","value":"GetStateInfoUsingTag"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-2beb73"},"children":[{"type":"text","value":"\"Dead\""}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"          "}]},{"type":"element","tag":"span","props":{"class":"ct-0fb158"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":" (info "}]},{"type":"element","tag":"span","props":{"class":"ct-0fb158"},"children":[{"type":"text","value":"!="}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ed75e0"},"children":[{"type":"text","value":"null"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"          {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"              "}]},{"type":"element","tag":"span","props":{"class":"ct-0fb158"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-0fb158"},"children":[{"type":"text","value":"!"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"animator."}]},{"type":"element","tag":"span","props":{"class":"ct-0758eb"},"children":[{"type":"text","value":"IsInTransition"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"(deadLayer) "}]},{"type":"element","tag":"span","props":{"class":"ct-0fb158"},"children":[{"type":"text","value":"&&"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":" info.normalizedTime "}]},{"type":"element","tag":"span","props":{"class":"ct-0fb158"},"children":[{"type":"text","value":">="}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ed75e0"},"children":[{"type":"text","value":"0.95f"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0fb158"},"children":[{"type":"text","value":"&&"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":" GroundDistanceAnim "}]},{"type":"element","tag":"span","props":{"class":"ct-0fb158"},"children":[{"type":"text","value":"<="}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ed75e0"},"children":[{"type":"text","value":"0.1f"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"              {                      \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"                  onActiveRagdoll."}]},{"type":"element","tag":"span","props":{"class":"ct-0758eb"},"children":[{"type":"text","value":"Invoke"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ed75e0"},"children":[{"type":"text","value":"null"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"                  "}]},{"type":"element","tag":"span","props":{"class":"ct-0758eb"},"children":[{"type":"text","value":"RemoveComponents"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"();\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"              }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"          }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"      }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"  }"}]}]}]}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"テイクダウン"},"children":[{"type":"text","value":"テイクダウン"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"AI側のDetection(MinDistance)を0にする"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"接近時にプレイヤーを検知しないようにするため"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"AIへTriggerGenericAction.csを設置"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Animation >>> プレイヤー側のアニメーション"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Event > OnPressedAction >>> AI.Animator.PlayFixedTime()"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Event > OnPressedAction >>> AI.vEventWithDelay.DoEvent(0)"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"vEventWithDelay.cs"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"AI.vHealthController.AddHealth(-100) / Rigidbody.isKinematic = false"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"AnimatorControllerにはテイクダウンモーションを追加"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"vAnimatorTag.cs追加 >>> Death / CustomActionタグ追加"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"vSetInteger.cs追加 >>> ActionStateを-1に変更する"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"通常時の死亡モーションを再生しないようにするため"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"ボタン同時押し"},"children":[{"type":"text","value":"ボタン同時押し"}]},{"type":"element","tag":"code","props":{"code":"// LB + Xボタンの例\r\nif (exampleInput.GetButtonDown() && otherInput.GetButton())\r\n{\r\n  同時押しの処理\r\n}\n","filename":"SameButton.cs","language":"cs","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-f0bf09"},"children":[{"type":"text","value":"// LB + Xボタンの例\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-0fb158"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":" (exampleInput."}]},{"type":"element","tag":"span","props":{"class":"ct-0758eb"},"children":[{"type":"text","value":"GetButtonDown"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"() "}]},{"type":"element","tag":"span","props":{"class":"ct-0fb158"},"children":[{"type":"text","value":"&&"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":" otherInput."}]},{"type":"element","tag":"span","props":{"class":"ct-0758eb"},"children":[{"type":"text","value":"GetButton"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"())\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"  同時押しの処理\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"追加ダメージ設定"},"children":[{"type":"text","value":"追加ダメージ設定"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"vMeleeAttackObject.cs"}]},{"type":"text","value":" > "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ApplyDamage()"}]},{"type":"text","value":"の処理を変更するとダメージが変わる"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"meleeWeapon.damageが武器"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"meleeWeapon.damageModifierが追加ダメージ設定"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"武器ダメージのみにしたい場合は"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"MeleeManager.cs"}]},{"type":"text","value":" > defaultDamageを0にする"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"属性や増加値はvItemAttributeを増やして対応"}]}]},{"type":"element","tag":"h2","props":{"id":"無敵化"},"children":[{"type":"text","value":"無敵化"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"以下のようなフラグを実装するインターフェースを作成する"},{"type":"element","tag":"code","props":{"code":"public interface IInvincible\r\n{\r\n    bool IsInvincible { get; set; }\r\n}\n","filename":"IInvicible.cs","language":"cs","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-0fb158"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0fb158"},"children":[{"type":"text","value":"interface"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a7abc9"},"children":[{"type":"text","value":"IInvincible\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-0fb158"},"children":[{"type":"text","value":"bool"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a7abc9"},"children":[{"type":"text","value":"IsInvincible"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-0fb158"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-0fb158"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"; }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"}"}]}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"vThirdPersonMotor.cs"}]},{"type":"text","value":"へ実装する"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"vThirdPersonMotor.cs"}]},{"type":"text","value":" > "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TakeDamage"}]},{"type":"text","value":"の条件式にフラグを追加する"},{"type":"element","tag":"code","props":{"code":"if (currentHealth <= 0 || (IgnoreDamageRolling()) || IsInvincible)\r\n        {\r\n            if (damage.activeRagdoll && !IgnoreDamageActiveRagdollRolling())\r\n            {\r\n                onActiveRagdoll.Invoke(damage);\r\n            }\r\n\r\n            return;\r\n        }\n","filename":"vThirdPersonMortor.cs","language":"cs","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-0fb158"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":" (currentHealth "}]},{"type":"element","tag":"span","props":{"class":"ct-0fb158"},"children":[{"type":"text","value":"<="}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ed75e0"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0fb158"},"children":[{"type":"text","value":"||"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-0758eb"},"children":[{"type":"text","value":"IgnoreDamageRolling"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"()) "}]},{"type":"element","tag":"span","props":{"class":"ct-0fb158"},"children":[{"type":"text","value":"||"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":" IsInvincible)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"        {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-0fb158"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":" (damage.activeRagdoll "}]},{"type":"element","tag":"span","props":{"class":"ct-0fb158"},"children":[{"type":"text","value":"&&"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0fb158"},"children":[{"type":"text","value":"!"}]},{"type":"element","tag":"span","props":{"class":"ct-0758eb"},"children":[{"type":"text","value":"IgnoreDamageActiveRagdollRolling"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"())\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"            {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"                onActiveRagdoll."}]},{"type":"element","tag":"span","props":{"class":"ct-0758eb"},"children":[{"type":"text","value":"Invoke"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"(damage);\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"            }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-0fb158"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-9b23e8"},"children":[{"type":"text","value":"        }"}]}]}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-ed75e0{color:#0550AE}\n.ct-a7abc9{color:#953800}\n.ct-2beb73{color:#0A3069}\n.ct-0758eb{color:#8250DF}\n.ct-9b23e8{color:#24292F}\n.ct-0fb158{color:#CF222E}\n.ct-f0bf09{color:#6E7781}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"目次","depth":2,"text":"目次"},{"id":"ローリング","depth":2,"text":"ローリング"},{"id":"ragdoll","depth":2,"text":"Ragdoll"},{"id":"death-by-animationwithragdollのタイミング調整","depth":2,"text":"Death By AnimationWithRagdollのタイミング調整"},{"id":"テイクダウン","depth":2,"text":"テイクダウン"},{"id":"ボタン同時押し","depth":2,"text":"ボタン同時押し"},{"id":"追加ダメージ設定","depth":2,"text":"追加ダメージ設定"},{"id":"無敵化","depth":2,"text":"無敵化"}]}},"_type":"markdown","_id":"content:invector:melee.md","_source":"content","_file":"invector/melee.md","_extension":"md"}